<!DOCTYPE html>
<!-- doctype informa ao agente de usuário a versão do html que deve ser renderizada-->
<html lang="pt-br">
<head>
    <meta charset='utf-8'>
    <!--inserindo bootstrap-->
    <link href="css/bootstrap.css" rel="stylesheet">
    <link href="css/bootstrap-theme.css" rel="stylesheet">
    <!--Inserindo biblioteca js-->
    <script src="beluga.js"></script>
    <title>Curso Programação Javascript</title>
    <meta name="author" content="Osvaldo Costa">
    <meta name="description" content="Página base para estudo e prática de programação">
    <meta name="keywords" content="html5, css, javascript, tecnologia">
    
</head>
<body>
 <div class="container">
     <h1>Curso Javascript</h1>
     <button id='btn1' onclick="clicar()">botao 1</button>
     <button id='btn2'>botao 2</button>
     <button id='btn3' onclick="alert('mundo');">botao 3</button>
 </div>
 <div class="container">
     <h1>propagação de eventos</h1>
     <div id="d1" style="background:red; padding: 25px;">
         texto dentro da div
         <span style="background: yellow;">texto dentro da span</span>
     </div>
     <div class="container">
         <h1>delegação de eventos</h1>
         <ul>
             <li>lista 1</li>
             <li>lista 2</li>
             <li>lista 3</li>
         </ul>
     </div>
 </div>
<script>
    var btn2 = document.getElementById('btn2');
    var btn3 = document.getElementById('btn3');
    btn2.onclick = clicar;
    function clicar(){
        alert('clicou')
        return function(){
            alert('clicou 2')
        }
    }
    btn3.addEventListener('click',function(){
        alert('clicou com dom l2');
    });
    btn3.addEventListener('click',function(){
        alert('clicou com dom l2 com outro evento');
    });

    btn3.onclick=function(){
        alert('olá');
    }
    btn3.onclick=function(){
        alert('mundo');
    }

    var $d1 = document.querySelector('#d1');
    var $d1Span = document.querySelector('#d1 span');
   
    $d1.addEventListener('click',function(e){
        console.log('click no $d1');
        e.stopPropagation();
    }, false)
    $d1Span.addEventListener('click',function(){
        console.log('click no $d1Span');
    },false)
    document.addEventListener('click', function(evt){
        console.log('clicou no document');
        console.log(evt.currentTarget);
        console.log(this);
        console.log(evt.target);
    },false)


    var $ul = document.querySelector('ul');
    var $lis = document.querySelectorAll('li');

    // for (var i = 0; $lis[i]; i++){
    //     $lis[i].addEventListener('click',function(e){
    //         console.log('clicou na li '+ (i+1));
    //         e.stopPropagation();
    //     },true)
    // }

    $ul.addEventListener('click', function(e){
        e.stopPropagation();
        console.log(this);
        console.log(e.currentTarget);
        console.log(e.target);
        
        if (e.target.nodeName === 'LI'){
            alert('clicou na li');
        }
        
    })

</script>
   
    
</script>
</body>

</html>